## **1.简介:**

微软官方测试软件Diskspd进行测试，下载地址：<http://aka.ms/diskspd>



**2.测试步骤**

1. Diskspd 有 32 位、64 位和 ARM 版本，在使用之前大家需要选定最适用于当前操作系统的版本
2. 需要在测试磁盘或分区有一个大于 2M 的任意扩展名非空文件



**3.常用参数**

- -d 用于指定测试时长，默认为 10 秒（不包括冷却和预热时间）。
- -F 用于定义基准测试线程数。
- -w 用于指定写入请求的百分比，默认写入请求为读取请求的 100%。
- -b [K|M|G] 用于指定存储块大小。K/M/G 分别定义 KB/MB和GB，默认块大小为 64 KB。
- -o 用于设置每个目标线程的未完成 I/O 请求的数。1表示进程同步，2表示进程异步。
- -r 随机 I/O 对齐测试



## **4.命令行汇总**

对C盘进行60秒的4线程 4K 随机写 I/O 性能测试

```
进入安装目录
#Diskspd.exe -b4K -d60 -h -L -o2 -t4 -r -w100 -c2G C:\io.dat 
```

对C盘进行60秒的4线程 4K 随机读 I/O 性能测试

```
#Diskspd.exe -b4K -d60 -h -L -o2 -t4 -r -c2G C:\io.dat
```



## **5.测试结果**

- thread：生成IO的线程的编号
- bytes：为测试传输的总字节数
- I/Os：为测试执行的IO操作总数
- MB/s：吞吐量，以MB /秒为单位
- I/O per s：每秒的IO操作数
- AvgLat：测试的所有IO操作的平均延迟
- IopsStdDev：每秒IO操作的标准偏差
- LatStdDev：测试遇到的延迟的标准偏差
- file：IO测试中使用的文件的路径
- 